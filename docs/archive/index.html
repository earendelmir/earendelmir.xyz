<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">
  <link rel="canonical" href="https://earendelmir.xyz/archive/">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="referrer" content="strict-origin-when-cross-origin">
  <meta name="description" content="Browse through all my posts, and filter them with tags, language, and search queries.">
  <link rel="alternate" type="application/rss+xml" title="Subscribe via RSS" href="https://earendelmir.xyz/feed.xml">

  <meta property="og:title" content="Archive - earendelmir">
  <meta property="twitter:title" content="Archive - earendelmir">
  <meta property="og:description" content="Browse through all my posts, and filter them with tags, language, and search queries.">
  <meta property="twitter:description" content="Browse through all my posts, and filter them with tags, language, and search queries.">
  <meta property="og:url" content="https://earendelmir.xyz/archive/">
  <meta name="twitter:card" content="summary">

  <meta name="theme-color" content="#F8F9FA" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#18191A" media="(prefers-color-scheme: dark)">
  <link rel="stylesheet" href="/style/style.css">
  <title>Archive - earendelmir</title>

  <style>
    .filters-div {
      margin: 2.4rem 0 2em;
    }
    input[type="text"] {
      background-color: var(--color-background);
      color: var(--color-text);
      font-size: inherit;
      width: 100%;
      margin-bottom: 2rem;
      outline: none;
      border: none;
      border-radius: 0;
      border: 1px solid var(--color-border);
      display: table;
      background-image: var(--icon-search);
      background-position: 1.2rem;
      background-repeat: no-repeat;
      padding: 1.2rem 4rem;
    }
    input[type="text"]:focus {
      outline: none;
      border-color: var(--color-accent);
    }
    input[type="checkbox"] {
      cursor: pointer;
      accent-color: var(--color-accent);
    }
    input[type="checkbox"]:disabled {
      cursor: default;
    }
    .checkbox-label {
      margin-left: 0.2em;
      margin-right: 1.2rem;
    }
    #searching-div {
      display: none;
      margin: 1.2rem 0 2rem;
    }
    #searching-spinner {
      border: 4px solid var(--color-background);
      border-radius: 50%;
      border-top: 4px solid var(--color-border);
      width: 1em;
      height: 1em;
      margin: 0.3rem 0.8rem 0 0;
      -webkit-animation: spin 1.2s linear infinite;
      animation: spin 1.2s linear infinite;
    }
    @-webkit-keyframes spin {
      0% { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    #no-result-p {
      margin-top: 1.2rem;
    }

    #tags-list {
      list-style: none;
      padding: 0;
      display: flex;
      flex-wrap: wrap;
      margin: 1.2rem 0;
    }
    #tags-list li {
      margin: 0 2.8rem 0 0;
    }

    main h2 {
      margin: 0;
      padding: 1.2rem 0 0.8rem;
      top: 0;
      position: sticky;
      border-bottom: 1px solid var(--color-sticky-title-underline);
      background-color: var(--color-background);
    }
    /* Space between tag title and list of posts. */
    .posts-list {
      margin: 1.2rem 0 0;
    }
    /* Truncate with ellipsis longer content that doesn't fit the screen. */
    .posts-list li a,
    .posts-list li p {
      display: block;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      width: 100%;
    }
    .posts-list li p {
      font-size: 0.9em;
      margin-bottom: 0.8rem;
    }
    .posts-list li p::before {
      content: "...";
    }
    /* Search query matching text. */
    .highlight {
      background-color: var(--color-highlight-bg);
      font-weight: bold;
    }
    /* Leave space between end of tag list and title of next tag list. */
    section:not(:first-of-type) {
      margin-top: 3.6rem;
    }
  </style>
</head>

<body>
  <header id="banner">
    <h1 translate="no">earendelmir</h1>
    <nav>
      <a class="navbar-item" href="/">Home</a>
      <a class="navbar-item" href="/about/">About</a>
      <a class="navbar-item" id="navbar-curr-page">Archive</a>
      <a class="navbar-item" href="/notes/">Notes</a>
      <a class="navbar-item" href="/more/">More</a>
    </nav>
  </header>

  <main>
    <h1>Archive</h1>
    <p>You might be looking for the chronologically <a href="/archive/chronological">ordered list</a>.</p>
    <p>Browse through all my posts, and filter them with tags, language, and search queries.<br>
    The first search may take a little extra time to complete.</p>

    <div class="filters-div">
      <noscript><p>Javascript is required for these filters to work.</p></noscript>
      <input disabled type="text" maxlength="50" placeholder="Search..." autocomplete="off" id="search-input">
      <input disabled type="checkbox" id="lang-it-sel" value="lang-it-sel" checked autocomplete="off" onclick="filterPosts()"><label class="checkbox-label" for="lang-it-sel">it</label>
      <input disabled type="checkbox" id="lang-en-sel" value="lang-en-sel" checked autocomplete="off" onclick="filterPosts()"><label class="checkbox-label" for="lang-en-sel">en</label>
      <div id="searching-div">
        <div id="searching-spinner"></div><p>Searching...</p>
      </div>
      <p id="no-result-p" style="display: none;">No results.</p>
      <ul id="tags-list">
        <li id="tag-books"><a href="#books">#books</a> <span>(2)</span></li>
        <li id="tag-cinema"><a href="#cinema">#cinema</a> <span>(1)</span></li>
        <li id="tag-development"><a href="#development">#development</a> <span>(6)</span></li>
        <li id="tag-journaling"><a href="#journaling">#journaling</a> <span>(6)</span></li>
        <li id="tag-miscellany"><a href="#miscellany">#miscellany</a> <span>(9)</span></li>
        <li id="tag-music"><a href="#music">#music</a> <span>(10)</span></li>
        <li id="tag-personal"><a href="#personal">#personal</a> <span>(9)</span></li>
        <li id="tag-travels"><a href="#travels">#travels</a> <span>(5)</span></li>
        <li id="tag-web"><a href="#web">#web</a> <span>(7)</span></li>
        <li id="tag-website"><a href="#website">#website</a> <span>(9)</span></li>
      </ul>
    </div>

    <div class="h-feed">
      <div class="p-author h-card" hidden>
        <a class="u-uid u-url p-name" href="https://earendelmir.xyz">earendelmir</a>
        <a class="u-photo" href="https://earendelmir.xyz/images/profile.jpg">(Photo)</a>
        <a class="u-email" rel="me" href="mailto:earendelmir@proton.me">earendelmir@proton.me</a>
      </div>

      <section>
      <h2 id="books">#books</h2>
      <ul class="list posts-list" id="list-books">
        <li class="h-entry en"><a class="u-url" href="/archive/2024/14"><span class="p-name" lang="en">Book covers shouldn't advertise films</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/43"><span class="p-name" lang="en">On rereading books</span></a></li>
      </ul>
      </section>

      <section>
      <h2 id="cinema">#cinema</h2>
      <ul class="list posts-list" id="list-cinema">
        <li class="h-entry en"><a class="u-url" href="/archive/2024/16"><span class="p-name" lang="en">I cried watching "The Iron Claw"</span></a></li>
      </ul>
      </section>

      <section>
      <h2 id="development">#development</h2>
      <ul class="list posts-list" id="list-development">
        <li class="h-entry en"><a class="u-url" href="/archive/2024/13"><span class="p-name" lang="en">Multiple GitHub accounts on one machine</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2024/6"><span class="p-name" lang="en">The best desktop calculator app is Python</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/44"><span class="p-name" lang="en">A bash script for random quote on shell login</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/12"><span class="p-name" lang="en">GPG cheat sheet</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/11"><span class="p-name" lang="en">My Bash setup</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/3"><span class="p-name" lang="en">Finding packages to install with fzf</span></a></li>
      </ul>
      </section>

      <section>
      <h2 id="journaling">#journaling</h2>
      <ul class="list posts-list" id="list-journaling">
        <li class="h-entry it"><a class="u-url" href="/archive/2024/17"><span class="p-name" lang="it">Il primo vero sole</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2024/7"><span class="p-name" lang="en">The best sleep I have ever had (or remember having)</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2024/2"><span class="p-name" lang="it">Vite sfiorate</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/41"><span class="p-name" lang="en">There's music coming from up there</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/14"><span class="p-name" lang="it">Filone all'IKEA</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/9"><span class="p-name" lang="it">Autostop in paese</span></a></li>
      </ul>
      </section>

      <section>
      <h2 id="miscellany">#miscellany</h2>
      <ul class="list posts-list" id="list-miscellany">
        <li class="h-entry en"><a class="u-url" href="/archive/2024/15"><span class="p-name" lang="en">Steve Jobs' letter to self</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/47"><span class="p-name" lang="en">God is an answer; on faith and mythologies</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/33"><span class="p-name" lang="it">Poteva capitare a chiunque</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/30"><span class="p-name" lang="it">Rugby > Calcio</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/21"><span class="p-name" lang="it">Con la speranza</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/19"><span class="p-name" lang="it">Sull'amore</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/13"><span class="p-name" lang="it">Note di Notte</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/2"><span class="p-name" lang="en">Road Trip</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/1"><span class="p-name" lang="it">La radio di Old Dany</span></a></li>
      </ul>
      </section>

      <section>
      <h2 id="music">#music</h2>
      <ul class="list posts-list" id="list-music">
        <li class="h-entry en"><a class="u-url" href="/archive/2024/9"><span class="p-name" lang="en">On Spotify replacing my iPod (that I stole)</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/45"><span class="p-name" lang="en">My Spotify Wrapped 2023</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/32"><span class="p-name" lang="it">New music dump #2</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/31"><span class="p-name" lang="it">Nuova macchina, nuova musica</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/22"><span class="p-name" lang="en">Variations on a September Theme</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/20"><span class="p-name" lang="it">Visioni in musica</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/18"><span class="p-name" lang="it">Concerto Mengoni 24/06/2023</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/17"><span class="p-name" lang="it">New music dump #1</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/15"><span class="p-name" lang="it">Canzone nuova</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/7"><span class="p-name" lang="it">Di lacrime in musica</span></a></li>
      </ul>
      </section>

      <section>
      <h2 id="personal">#personal</h2>
      <ul class="list posts-list" id="list-personal">
        <li class="h-entry en"><a class="u-url" href="/archive/2024/3"><span class="p-name" lang="en">I have no ambition</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2024/1"><span class="p-name" lang="en">I am sabotaging myself</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/40"><span class="p-name" lang="en">They think I passed my last exam</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/38"><span class="p-name" lang="it">Parlo da solo</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/37"><span class="p-name" lang="en">I can't wait to move out</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/29"><span class="p-name" lang="en">I'm falling behind</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/25"><span class="p-name" lang="en">Dear stranger</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/16"><span class="p-name" lang="it">A volte ho bisogno</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/10"><span class="p-name" lang="it">733'536'000 secondi</span></a></li>
      </ul>
      </section>

      <section>
      <h2 id="travels">#travels</h2>
      <ul class="list posts-list" id="list-travels">
        <li class="h-entry en"><a class="u-url" href="/archive/2024/5"><span class="p-name" lang="en">Seville, it's official</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/35"><span class="p-name" lang="it">Incontri in viaggio: una notte a Trafalgar</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/24"><span class="p-name" lang="it">Incontri in viaggio: la vecchia e la chiesa</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/5"><span class="p-name" lang="it">Vienna #2</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/4"><span class="p-name" lang="it">Vienna #1</span></a></li>
      </ul>
      </section>

      <section>
      <h2 id="web">#web</h2>
      <ul class="list posts-list" id="list-web">
        <li class="h-entry en"><a class="u-url" href="/archive/2024/12"><span class="p-name" lang="en">Overlay scrollbars on Chrome based browsers</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2024/10"><span class="p-name" lang="en">How to join An IndieWeb Webring</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/42"><span class="p-name" lang="en">How to overcome Youtube addiction</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/28"><span class="p-name" lang="en">The need for a silent web</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/26"><span class="p-name" lang="en">Being in your 20s</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/8"><span class="p-name" lang="en">Live in the woods</span></a></li>
        <li class="h-entry it"><a class="u-url" href="/archive/2023/6"><span class="p-name" lang="en">To be or not to be (real)</span></a></li>
      </ul>
      </section>

      <section>
      <h2 id="website">#website</h2>
      <ul class="list posts-list" id="list-website">
        <li class="h-entry en"><a class="u-url" href="/archive/2024/11"><span class="p-name" lang="en">This blog will die with me</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2024/8"><span class="p-name" lang="en">Yet another redesign</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2024/4"><span class="p-name" lang="en">Catchier titles</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/46"><span class="p-name" lang="en">Fixing past mistakes</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/39"><span class="p-name" lang="en">About the name "mapla"</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/36"><span class="p-name" lang="en">Incognito mode</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/34"><span class="p-name" lang="en">Internet stage fright</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/27"><span class="p-name" lang="en">Time to publish</span></a></li>
        <li class="h-entry en"><a class="u-url" href="/archive/2023/23"><span class="p-name" lang="en">Who are you?</span></a></li>
      </ul>
      </section>
    </div>
  </main>

  <footer>
    <hr>
    <p><a tabindex="0" onclick="document.body.scrollTop=0;document.documentElement.scrollTop=0;"><span lang="en">↑ Back to Top</span></a></p>
    <p lang="en">Follow via <a href="/feed.xml">RSS</a>. Get in touch via
      <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#101;&#97;&#114;&#101;&#110;&#100;&#101;&#108;&#109;&#105;&#114;&#64;&#112;&#114;&#111;&#116;&#111;&#110;&#46;&#109;&#101;">email</a>.</p>
    <p><span translate="no">© 2023-2024 earendelmir</span></p>
  </footer>
</body>

<script>
const postCache = JSON.parse(localStorage.getItem("postCache")) || {};

function disableLanguageSelectors(value) {
  document.getElementById("lang-it-sel").disabled = value;
  document.getElementById("lang-en-sel").disabled = value;
}

// Check whether the post matches the language query.
function isLang(post) {
  if (post.className.includes("it"))
    return document.getElementById("lang-it-sel").checked;
  else
    return document.getElementById("lang-en-sel").checked;
}

// Return substring matching the query (plus some characters before and after). If no match then return null.
function getMatchingSubstring(string, query) {
  const matchIndex = string.toLowerCase().indexOf(query.toLowerCase());
  if (matchIndex == -1)
    return null;
  const len = string.length;
  const start = len < 120 ? 0 : Math.max(0, matchIndex - 10);
  const end = len < 120 ? len + 1 : Math.min(len + 1, matchIndex + query.length + 150);
  return string.substring(start, end).trim();
}

// Check whether the post matches the search field query.
async function isSearch(post, query) {
  // If query string is empty than every post passes this check. But no post has any matching text, not in the title
  // neither in its content.
  if (query.length == 0)
    return {valid: true, title: post.getElementsByTagName("span")[0].innerText, matchingTitle: null, matchingContent: null};
  var url = "https://raw.githubusercontent.com/earendelmir/earendelmir.xyz/main/docs" + post.getElementsByTagName("a")[0].getAttribute("href") + ".html";
  var title, content;
  // Item might be already cached.
  if (postCache[url]) {
    title = postCache[url].title;
    content = postCache[url].content;
  }
  else {
    try {
      // Get HTML document from URL.
      const response = await fetch(url);
      const html = await response.text();
      const doc = new DOMParser().parseFromString(html, "text/html");
      // Get post title and content.
      title = doc.querySelector("title").innerText;
      content = doc.getElementsByClassName("e-content")[0].innerText;
      // Save cache.
      postCache[url] = {title: title, content: content};
      localStorage.setItem("postCache", JSON.stringify(postCache));
    }
    catch (e) {
      // If post can't be retrieved let's assume it matches.
      title = post.getElementsByTagName("span")[0].innerText;
      const matchingTitle = getMatchingSubstring(title, query)
      return {valid: true, title: title, matchingTitle: matchingTitle, matchingContent: null};
    }
  }
  // Find piece of post title that matches query (to be highlighted).
  const matchingTitle = getMatchingSubstring(title, query);
  const matchingContent = getMatchingSubstring(content, query);
  // If either the title or the content matches the query than return true, either return false: the post does not
  // pass the check.
  if (matchingTitle != null || matchingContent != null)
    return {valid: true, title: title, matchingTitle: matchingTitle, matchingContent: matchingContent};
  else
    return {valid: false, title: title, matchingTitle: matchingTitle, matchingContent: matchingContent};
}

// Highlight substring matching the query.
function highlightMatches(string, query) {
  const regex = new RegExp(query.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&"), "gi");
  return string.replace(regex, match => `<span class="highlight">${match}</span>`);
}

async function filterPosts() {
  disableLanguageSelectors(true);
  // Show spinner and "Searching..."
  document.getElementById("searching-div").style.display = "flex";

  var query = document.getElementById("search-input").value.trim();
  var tags = document.querySelectorAll("#tags-list li");
  var numTags = tags.length;
  var numTagsHidden = 0;

  // For each tag, get list of posts.
  for (tag of tags) {
    var tagName = tag.id.substring(4);
    var posts = document.querySelectorAll(`#list-${tagName} li`);
    var count = 0;
    // For each post, check the language and title+content for query string.
    // Count how many posts are valid for this tag.
    for (post of posts) {
      // Remove any possible paragraph added by previous query searches (if the post content matches the query than its
      // matching content's substring is shown).
      try { post.removeChild(post.getElementsByTagName("p")[0]); } catch (e) {}
      // Post is not valid if wrong language, hide it.
      if (!isLang(post)) {
        post.style.display = "none";
        continue;
      }
      // Get result of query search.
      var ret = await isSearch(post, query);
      // If neither title nor content match the query then the post is not valid, hide it.
      if (ret.valid == false) {
        post.style.display = "none";
        continue;
      }
      // Show post because both language and title/content pass the checks.
      post.style.display = "";
      count += 1;
      // Highlight or reset post title.
      if (ret.matchingTitle != null)
        post.getElementsByTagName("span")[0].innerHTML = highlightMatches(ret.matchingTitle, query);
      else
        post.getElementsByTagName("span")[0].innerHTML = ret.title;
      // Highlight or delete post content.
      if (ret.matchingContent != null) {
        const p = document.createElement("p");
        p.innerHTML = highlightMatches(ret.matchingContent, query);
        post.appendChild(p);
      } else
        try { post.removeChild(post.getElementsByTagName("p")[0]); } catch (e) {}
    }
    // Hide empty tags or show them if at least one of their post is valid.
    if (count == 0) {
      tag.style.display = "none";
      document.getElementById(tagName).style.display = "none";
      numTagsHidden++;
    }
    else {
      tag.style.display = "";
      document.getElementById(tagName).style.display = "";
      // Update number of valid posts for current tag.
      tag.querySelector("span").textContent = "(" + count + ")";
    }
  }

  disableLanguageSelectors(false);
  // Hide spinner and "Searching..."
  document.getElementById("searching-div").style.display = "none";
  // Show "No result" text if all tags have been hidden.
  if (numTagsHidden == numTags)
    document.getElementById("no-result-p").style.display = "";
  else
    document.getElementById("no-result-p").style.display = "none";
}

// To delay search function: wait for user to stop typing before searching.
function debounce(func, delay) {
  let timer;
  return function() {
    clearTimeout(timer);
    timer = setTimeout(() => {
      func.apply(this, arguments);
    }, delay);
  };
}

// Enable input fields.
document.getElementById("search-input").disabled = false;
disableLanguageSelectors(false);

// Search after every keypress.
document.getElementById("search-input").addEventListener("input", debounce(function() {
  filterPosts();
}, 600));

// Listen ENTER key press: hide keyboard on mobile and start search.
document.getElementById("search-input").addEventListener("keypress", function(event) {
  const key = event.code || event.keyCode;
  if (key === "Enter" || key === 13)
    this.blur();
});
</script>
</html>
